- defaults:
    link:
        create: true
        relink: false
        relative: false
        force: true

- clean: ['~']

  # The config files!  
- link:
    ~/.emacs.d: config/spacemacs
    ~/.gtkrc: config/gtk2/base16-twilight.gtkrc
    ~/.spacemacs: config/emacs/spacemacs
    ~/.screenrc: config/screen/screenrc
    ~/.tmux.conf: config/tmux/tmux.conf
    ~/.tmux/plugins/tpm: config/tmux/plugins/tpm
    ~/.tmuxp: config/tmuxp
    ~/.urxvt: config/urxvt
    ~/.vimrc: config/vim/vimrc
    ~/.vim/autoload/plug.vim: config/vim-plug/plug.vim
    ~/.Xresources: config/X11/Xresources
    ~/.Xresources.d: config/X11/Xresources.d
    ~/.local/share/fonts/dotfiles: config/fonts
    ~/.local/share/rofi/themes: config/rofi/themes

    ~/.config/bspwm: config/bspwm
    ~/.config/conky: config/conky
    ~/.config/dunst/dunstrc: config/dunst/dunstrc
    ~/.config/fish/config.fish: config/fish/config.fish
    ~/.config/fish/conf.d: config/fish/conf.d
    ~/.config/fish/functions/emacs.fish: config/fish/functions/emacs.fish
    ~/.config/fish/functions/fssh.fish: config/fish/functions/fssh.fish
    ~/.config/fish/functions/hc.fish: config/fish/functions/hc.fish
    ~/.config/fish/functions/lpass.fish: config/fish/functions/lpass.fish
    ~/.config/fish/functions/ls.fish: config/fish/functions/ls.fish
    ~/.config/fish/functions/rustup.fish: config/fish/functions/rustup.fish
    ~/.config/fontconfig/fonts.conf: config/fontconfig.conf
    ~/.config/gtk-2.0/gtkfilechooser.ini: config/gtk2/gtkfilechooser.ini
    ~/.config/gtk-3.0/settings.ini: config/gtk3/settings.ini
    ~/.config/lemonbar: config/lemonbar
    ~/.config/mygtkmenu: config/mygtkmenu
    ~/.config/neofetch/config.conf: config/neofetch/config.conf
    ~/.config/polybar: config/polybar
    # ~/.config/rofi: config/rofi
    ~/.config/sxhkd: config/sxhkd
    
    ~/.gnupg/gpg-agent.conf: config/gnupg/gpg-agent.conf
    ~/.gnupg/gpg.conf: config/gnupg/gpg.conf

    # unused things
    # ~/.ssh/config.d: config/ssh/config.d

# Shell section

- pip:
    file: python/requirements.txt
    binary: /usr/bin/pip

- pipsi:
    file: python/requirements-pipsi.txt

- cargo:
  #  - exa 

- shell:
      - 
        command: fc-cache -fv ~/.local/share/fonts
        stdin: true
        stdout: true
        description: Update font cache
      -
        command: bash -i -c 'test -x /usr/bin/xrdb && /usr/bin/xrdb merge ~/.Xresources || echo "No X11"'
        stdin: true
        stdout: true
        description: Reloading Xresources
      -
        command: chmod 700 ~/.gnupg
        stdin: true
        stdout: true
        description: Set correct permissions on .gnupg
